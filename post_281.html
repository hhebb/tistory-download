<h2>블록체인의 상태</h2>
<ul>
<li>일종의 FSM 모델이다.</li>
<li>상태에 coinbase 가 있으면 토큰 보상(채굴, staking 등)</li>
</ul>
<h2>어카운트 기반 블록체인 상태</h2>
<ul>
<li>트랜잭션으로 변환하는 상태 기계</li>
<li>어카운트드르이 토큰 변경값들을 유지해나가는 것.</li>
<li>트랜잭션은 곧 변경값들의 상태 변화들임.</li>
<li>어카운트는 생성이 되기보다는 블록의 상태에 추가가 되는 것임.<ul>
<li>명시적인 계좌 생성은 없다.</li>
<li>그저 key pair 를 만드는 것으로 어카운트 상태에 추가된다.</li>
</ul>
</li>
</ul>
<h2>트랜잭션</h2>
<ul>
<li>비트코인에서는 거래의 개념에 국한되었다.</li>
</ul>
<h2>어카운트 종류 복습</h2>
<ul>
<li>블록체인이 관리하는 상태는 어카운트의 상태들이라고 봐도 된다.</li>
</ul>
<ol>
<li>external account<ul>
<li>사용자가 사용하는 어카운트</li>
</ul>
</li>
<li>contract account<ul>
<li>스마트 컨트랙트를 표현하는 어카운트</li>
<li>특정주소에 존재하는 실행 가능한 <code>프로그램</code></li>
<li>프로그램은 명령어 뿐 아니라 상태도 가지므로.</li>
<li>이더리움, 클레이튼은 스카트 컨트랙트를 어카운트로 표현.</li>
</ul>
</li>
</ol>
<h2>어카운트의 차이</h2>
<ul>
<li>사용자 어카운트와 컨트랙트 어카운트의 차이점은 트랜잭션을 만들고 불러올 수 있는 존재<ul>
<li>이는 사용자 어카운트만 할 수 있다.</li>
</ul>
</li>
<li>스마트 컨트랙트는 수동적인 존재로, 실행이 되어야만 트랜잭션이 만들어진다.</li>
</ul>
<h2>트랜잭션과 가스</h2>
<ul>
<li>트랜잭션은 곧 상태를 변화시키는 것.<ul>
<li>dst 가 누구냐에 따라 tx 목적이 세분화</li>
<li>트랜잭션의 src, dst 가 모두 유저 어카운트이면 토큰을 전송한 것. value transfer</li>
<li>dst 가 컨트랙트 어카운트이면 컨트랙트가 실행되는 것임.</li>
</ul>
</li>
<li>이 tx 를 처리하는데 일련의 과정은 비용이 발생함<ul>
<li>저장소, 연산력 등</li>
<li>보통 sender 가 지불한다.</li>
<li>이를 가스비라고 한다.</li>
<li>연산 비용을 가스비라고 하고 토큰과 구분하낟.</li>
<li>가스비를 많이 내면 트랜잭션을 먼저 처리해주도록 한다.</li>
<li>이더는 조금 느리니까</li>
<li>클레이튼은 빠르니까 아예 가스비없이 공평하게 순서대로 처리해줌.</li>
<li>가스(명령어 실행 연산량)는 있다!</li>
</ul>
</li>
</ul>
<h2>트랜잭션과 서명</h2>
<ul>
<li>본인이 보낸 트랜잭션인지 서명과정이 필요.</li>
<li>서명까지 합치면 트랜잭션에 필요한 네트워크 오버로드가 생긴다.</li>
<li>이더리움은 트릭을 사용하여 네트워크 오버로드를 줄임.</li>
</ul>
<h2>트랜잭션 예시</h2>
<ul>
<li>nonce<ul>
<li>어카운트 기반 블록체인의 특징.</li>
<li>재전송 방지를 위함.</li>
<li>어카운트가 몇번쨰 트랜잭션을 보내는지 의미하는 것.</li>
<li>병렬화를 막기 위함.</li>
</ul>
</li>
<li>from<ul>
<li>sender 주소</li>
</ul>
</li>
<li>to<ul>
<li>receiver 주소</li>
</ul>
</li>
<li>value<ul>
<li>토큰 몇 개</li>
</ul>
</li>
</ul>
<h2>트랜잭션 이동경로</h2>
<ul>
<li>트랜잭션은 externel account 만 만들고 보낼 수 있다.</li>
<li>당연히 유저와 node 는 같은 프로토콜로 통신해야 한다.</li>
</ul>
