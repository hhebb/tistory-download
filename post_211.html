<h1>네트워크 계층</h1>
<ul>
<li>라우팅 알고리즘 계속</li>
</ul>
<h2>Hierachical routing</h2>
<ul>
<li>실제 네트워크는 너무 거대하다.</li>
<li>전세계적으로 연결되어 있다.</li>
<li>기존의 방법으로 최단거리 라우팅 불가능.</li>
<li>네트워크 간의 연결은 네트워크 내부의 라우팅 알고리즘과 다르다.<br>  계층적으로 수행한다.</li>
<li>내부 네트워크는 관리자가 있어 자치권이 있다.<br>  Autonomous System<br>  각자 라우팅 방법을 정할 수 있다.<br>  이를 Intra-AS 라고 한다.</li>
<li>네트워크 간 라우팅을 Inter-AS 라고 한다.</li>
</ul>
<h2>Intra-AS 알고리즘</h2>
<ul>
<li>RIP<br>  link state 를 프로토콜로 구현한 것</li>
<li>OSPF<br>  distance vector 를 프로토콜로 구현한 것</li>
</ul>
<h2>Inter-AS 알고리즘</h2>
<ul>
<li>BGP<br>  hierachical routing 을 프로토콜로 만든 것.<br>   최단 경로가 목적이 아니다!<br>   Intra-AS 는 최단 경로를 찾는것이 목적임.</li>
<li>네트워크 간에는 전체 관리자가 없다.</li>
<li>Inter-AS 라우팅은 자본의 논리에 의해 돌아간다.<br>  비용을 지불해야 이용할 수 있다.<br>  공짜로 트래픽을 처리해주지 않는다.</li>
</ul>
<h2>AS Number (ASNs)</h2>
<ul>
<li>모든 네트워크는 고유의 번호를 가진다.</li>
<li>자치권을 가진 네트워크 자체의 번호임.</li>
<li>지구에 수만개의 AS 가 존재한다.</li>
</ul>
<h2>AS</h2>
<ul>
<li>provider - customer 관계가 있다.<br>  AS 를 제공하는 측과 사용하는 측<br>  돈을 주고 서비스를 사는 개념.<br>  돈을 지불하지 않으면 해줄 수가 없다.<br>  필요한 쪽이 제공자에게 의존하는 갑-을 관계<br>  예) 통신사 - 일반 기관, 일반 통신사 - AT&amp;T(북미 대륙 관장)</li>
<li>Peering 관계<br>  서로 비슷한 체급이고 의존할 필요가 없는 경우.<br>  서로 지불없이 트래픽을 이동시켜 준다.<br>  서로 이득을 볼 수 있기 때문임.<br>  예) 통신사 - 다른 통신사</li>
</ul>
<h2>BGP - Border Gateway Protocol</h2>
<ul>
<li>AS 경계에 있는 라우터들의 라우팅을 관장하는 알고리즘.</li>
<li>최적화 기법은 정책에 따라 달라진다.</li>
<li>여러가지 현실적이고 금전적인 관계에 따라 달라진다.</li>
<li>src 에서 dst 까지 AS 번호를 축적하여 보낸다.</li>
<li>dst 는 다시 src 에게 AS 번호를 역으로 따라가며 보내는데, 경로가 여러개일 경우 선택할 수 있다.<br>  최단 hop 을 고를 수도 있다.<br>  하지만 정치적, 사회적 정책에 따라서 변할 수도 있다.<br>  hop 이 많고 최단거리가 아니더라도 갑의 위치에서 이득이 되는 방향으로 보낼 수 있다!<br>  이는 BGP 라서 가능한 것이다. 경제성이 보통 제일 중요함.<br>  그래서 인터넷은 최단거리로 돌아가지 않는다.</li>
</ul>
