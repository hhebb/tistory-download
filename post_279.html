<h2>합의</h2>
<ul>
<li>탈중앙화와 더불어 아주 중요한 개념</li>
<li>자격이 있는 네트워크 참여자는 블록을 제안할 수 있다.</li>
<li>모든 노드가 같은 블록체인을 저장하고 있으므로 그 제안의 유효성을 검증하고 합의과정을 거칠 수 있다.</li>
<li>비트코인은 이런식으로 탈중앙화된 원장 관리를 하는것이 목표였다.</li>
<li>일정 비율 이상 노드가 새로 제안된 블록을 자신의 체인에 추가하면 합의되었다고 본다.</li>
<li>합의하는데 어떠한 합의구조가 필요하다.</li>
</ul>
<h2>합의 구조</h2>
<ul>
<li>블록을 제안하려면 자격이 필요</li>
<li>PoW, PoS, 등</li>
<li>PoW 는 블록을 제안하기위해 문제를 풀어야 함.<ul>
<li>누구든지 문제를 잘 풀면 신원을 밝히지 않아도 블록을 제안할 수 있다.</li>
</ul>
</li>
</ul>
<h2>블록체인 성질 정리</h2>
<ul>
<li>블록체인은 한 명 이상의 참여자가 있는 네트워크에서 관리</li>
<li>네트워크 참여자는 모두 동일한 블록을 동일한 순서로 저장하고 같은 블록체인을 유지, 동기화.<ul>
<li>그래서 참여자 누구라도 다음 블록을 검증할 수 있다.</li>
</ul>
</li>
<li>자격이 있는 참여자는 블록을 제안할 수 있다.</li>
<li>블록이 체인에 추가된다는 것은 참여자들이 새 블록을 자신의 체인에 추가하는 것임.</li>
<li>그래서 새로운 블록이 체인에 추가되려면 네트워크적으로 합의, 프로토콜이 필요함.<ul>
<li>다수의 합의를 통해서 결정하므로 탈중앙화의 성격</li>
</ul>
</li>
<li>참여자 전원이 같은 블록체인을 가지므로 무결성이 있다.</li>
<li>새롭게 제안되는 블록은 참여자 검증 및 합의 할 수 있는 투명성이 있다.</li>
<li>한 번 추가된 블록은 이전 합의를 번복하지 않으면 변경되는 않는 불변성이 있다.</li>
<li>제안 자격과 합의 방법은 네트워크마다 상이하다.</li>
</ul>
<h2>합의 알고리즘 비교</h2>
<h2>PoW</h2>
<ul>
<li>블록 제안을 위해 특정 해시를 찾는 문제를 풀어야 한다.<ul>
<li>예를 들어 현재 해시에 nonce 를 붙여서 해시를 만들면 그 해시를 찾아야 함.</li>
<li>이게 너무 어려우니까 숫자로 표현해서 몇자리만 맞으면 인정해준다.</li>
<li>이 몇자리를 difficulty, 난이도라고 한다.</li>
<li>GPU 가 해시 처리에 월등해서 채굴에 사용됨.</li>
<li>기존의 난이도가 무너짐.</li>
</ul>
</li>
<li>네트워크 참여 제한은 없음.</li>
<li>전체 연산량의 절방 이상을 차지하면 중앙화됨.</li>
<li>이렇게 되면 언제나 합의에서 이기게 되어 마음대로 할 수 있다.<ul>
<li>가장 긴 블록을 가진 노드가 지위가 높다.</li>
<li>즉 블록을 빠르게 생성하는 쪽이 우선권을 가진다.</li>
</ul>
</li>
</ul>
<h2>PoS</h2>
<ul>
<li>PoW 처럼 연산량이 아닌 지분의 양을 기준으로 블록을 제안할 수 있다. </li>
<li>토큰이 많은 노드가 새로운 블록을 제안할 확률이 높다는 것.<ul>
<li>토큰 == 코인</li>
<li>PoW 에서는 블록을 제안할 때마다 리워드로 토큰(코인) 지급?</li>
</ul>
</li>
<li>토큰을 절반 이상 쓸어모으면 중앙화된다.</li>
<li>그래서 처음부터 PoS 를 진행하지 않고 PoW 방식으로 운영하고 토큰이 분배가 되었다고 보면 PoS 로 전환하기도 한다.</li>
</ul>
<h2>BFT</h2>
<ul>
<li>정해진 순번 혹은 정해진 확률에 의해 블록 제안 자격이 부여된다.</li>
<li>처음엔 느렸지만 여전히 느리다고 한다.</li>
<li>PoW 는 누구나 참여하여 합의를 이끌어낼 수 있다. <ul>
<li>네트워크가 비동기 상태에 있어도 가능하다?</li>
</ul>
</li>
<li>BFT 는 네트워크를 동기화한다.<ul>
<li>참여 노드를 정확히 모든 노드가 알고 있고 누군가 참여하면 작업을 중지하고 인식해야 한다.</li>
<li>그래서 누구나 네트워크에 참여하는 것은 어려움.</li>
</ul>
</li>
<li>그리고 참여자가 많을수록 네트워크 통신이 많아져 오버헤드가 생긴다.<ul>
<li>속도 저하로 이어진다.</li>
</ul>
</li>
<li>참여노드의 1/3 이 답합하면 합의가 불가할 수 있어 블록 생성을 방해할 수 있다?</li>
<li>참여노드의 2/3 가 담합하면 중앙화된다.<ul>
<li>나머지 방법들보단 이 부분에서 더 안전하다고 볼 수 있다.</li>
<li>하지만 합의 불가 옵션은 조금 별로인듯.</li>
</ul>
</li>
</ul>
<h2>Public / Private 블록체인</h2>
<ul>
<li>누구든지 기록된 정보를 자유롭게 읽을 수 있는지?</li>
<li>명시적 자격 취득 없이 정보를 블록체인 네트워크에 기록할 수 있는지?</li>
<li>기업 등에서 내부에서 쓰려고 데이터를 비공개하면 private</li>
<li>서비스를 위해서 공개하면 public</li>
<li>데이터의 공개 / 비공개로 구분</li>
</ul>
<h2>Permissionless / Permissioned</h2>
<ul>
<li>네트워크 참여의 제한 여부로 구분.</li>
<li>합의에 참여 가능 /불가능으로도 구분</li>
</ul>
<h2>Access, Control</h2>
<ul>
<li>데이터 접근 가능 여부</li>
<li>데이터 컨트롤 가능 여부</li>
<li>2 가지로 블록체인의 성격을 구분할 수 있다.</li>
<li>비트, 이더는 모두에게 공개되고 모두가 블록을 제안할 수 있음.</li>
<li>클레이튼은 모두에게 데이터가 공개되지만 블록은 정해진 노드만 할 수 있다.</li>
</ul>
