<h1>스레드 관리</h1>
<h2>프로세스와 스레드</h2>
<p>프로세스는 자원을 할당받고 자원을 제어하여 작업을 수행하는 것이다.<br>스레드는 이 중의 제어 부분에 해당한다.<br>스레드는 하나의 프로세스에 여러개 있을 수 있다. 즉, 제어는 여러개가 수행한다.</p>
<h2>스레드</h2>
<p>리소스 영역 - 리소스는 코드, 전역 데이터, 힙 영역 등이 해당한다.<br>제어 영역 - 제어정보(SP-스택포인터, PC프로그램카운터, 상태 등), 지역 데이터, 스택<br>지역 데이터는 제어에 필요하고 스택에 저장된다.<br>이 제어 영역을 스레드가 수행하고 이것이 여러개가 있다.<br>그런데 스레드들끼리는 할당받은 리소스 영역은 서로 공유한다.<br>다시 말해 힙, 데이터, 코드는 공유한다.<br>그리고 스택에 해당하는 자신만의 스레드 작업 영역을 가진다.</p>
<h2>스레드 2</h2>
<p>light weight process(LWP) 라고 한다.<br>왜냐면 자원은 공유하고 제어는 수행하므로.(프로세스는 둘 다 가짐)<br>프로세서 활용의 기본 단위.<br>구성요소 - thread ID, register set, stack 영역<br>제어 요소 외 코드, 데이터 및 리소스는 프로세스 내 다른 스레드들과 공유한다.<br>전통적인 프로세스는 단일 스레드 프로세스</p>
<h2>단일 스레드 vs 멀티 스레드</h2>
<p>단일은 제어요소가 하나, 멀티는 제어요소가 여러개.</p>
<h2>스레드의 장점</h2>
<p>사용자 응답성 - 일부 스레드 처리가 지연되어도 다른 스레드는 작업을 계속 처리 가능<br>자원 공유 - 자원을 공유해서 효율성 증가-컨텍스트 스위칭을 줄인다.=커널의 개입을 피한다.<br>경제성 - 프로세스 신규 생성, 스위칭에 비해 효율적<br>멀티프로세서(cpu) 활용 - 병렬처리를 통해 성능 향상=cpu 를 여러대 동시에 가용.<br>대부분의 프로그램은 멀티 스레드로 돌아간다.</p>
<h2>스레드 구현</h2>
<p>사용자 수준스레드<br>커널 수준 스레드</p>
<h2>사용자 수준 스레드</h2>
<p>사용자 영역의 스레드 라이브러리로 구현됨.<br>커널은 스레드의 존재를 모른다.=커널의 관리 개입을 받지 않는다. =커널에선 단일 스레드(1:다 대응)<br>라이브러리 레벨에서 관리하므로 유연하고 오버헤드가 적다.<br>이식성이 좋아서 여러 머신에서 잘 구동된다.<br>단점으로는 하나의 스레드가 블락되면 모든 스레드가 대기한다.<br>그 이유는 커널은 프로세스 단위로 자원을 할당하기 때문임.</p>
<h2>커널 수준 스레드</h2>
<p>OS(커널) 이 직접 관리한다.<br>사용자 수준에서 스레드를 만들면 그 만큼 커널에서 스레드를 만든다. (1:1 대응)<br>커널이 직접 스레드를 생성 관리를 수행하므로 오버헤드가 있다.<br>스레드간 스위칭도 있으므로.<br>장점은 스레드들이 병행적으로 수행이 가능하다.</p>
<h2>멀티 스레딩 모델</h2>
<p>다대일 - 사용자 수준 스레드<br>일대일 - 커널 수준 스레드<br>대대다 모델 - 혼합형. (n:m)</p>
<h2>혼합형 스레드</h2>
<p>n사용자 &gt; m커널<br>사용자는 원하는 수만큼 스레드를 사용.<br>효율적이면서도 유연한 구조<br>각 장점들을 모두 취함.<br>OS 는 당연히 대부분 혼합형 스레드를 사용함</p>
<h2>요약</h2>
<p>스레드는 프로세스의 자원을 공유하면서 각각의 제어요소를 가진다.<br>자원을 효율적을 사용할 수 있다.<br>n:m 매핑인 혼합형 스레드 모델을 채택한다.</p>
