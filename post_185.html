<h1>DOM</h1>
<h2>DOM - Document Object Model</h2>
<ul>
<li>브라우저의 렌더링 엔진은 텍스트 파일을 브라우저가 이해할 수 있도록 구조화하여 메모리에 적재한다.</li>
<li>이를 DOM 이라고 한다.</li>
<li>모든 요소와 요소의 어트리뷰트를 객체로 만들고 트리 구조로 구성한다.</li>
<li>js 를 통해 동적으로 변경할 수 있으며 변경된 DOM 은 렌더링에 반영된다.</li>
<li>js 는 DOM API 로 DOM 에 접근하고 수정한다.</li>
<li>DOM 은 ES, html 에서 정의한 표준이 아닌 별개의 W3C 공식  표준.</li>
<li>DOM 은 2 가지 기능을 담당<ol>
<li>HTML 문서에 대한 모델 구성</li>
<li>HTML 문서 내 각 요소 접근/수정</li>
</ol>
</li>
</ul>
<h2>DOM Tree</h2>
<ul>
<li>모든 요소, 속성, 텍스트는 하나의 객체.<ul>
<li>문서 노드 - 최상위 노드. DOM 의 시작점</li>
<li>요소 노드 - 태그 요소 표현.</li>
<li>어트리뷰트 노드 - 요소 노드의 자식이 아니라 일부로 표현됨. 요소를 먼저 찾아야 한다.</li>
<li>텍스트 노드 - 요소 노드의 자식. 자식을 가질 수 없다. DOM 의 최종단이다.</li>
</ul>
</li>
<li>페이지를 조작하려면 요소 선택, 요소나 어트리뷰트 조작을 해야 한다.</li>
<li>js 는 이 API 를 제공</li>
</ul>
<h2>DOM 쿼러 / 순회 - 접근</h2>
<ul>
<li><code>document.getElementById(id)</code> - id 로 요소 하나 선택. 여러개 있을 땐 첫번째 노드만 반환.<br>  HTMLElement 상속받은 객체가 반환된다.</li>
<li><code>document.querySelector(cssSelector)</code> - css 셀렉터를 사용하여 선택 후 첫 번째 노드만 반환.</li>
<li><code>document.getElementsByClassName(class)</code> - 클래스 이름으로 여러개 노드 반환. 인자에 공백으로 여러개 클래스도 선택 가능.<br>  반환값은 HTMLCollection 이라는 유사 배열<br>  주의할 것은, 이는 노드의 상태를 즉시 반영하므로 반복문 돌 때 잘 처리해야 함.<br>  while 을 쓰거나, 아예 배열로 바꾼다.(권장)</li>
<li><code>document.getElementsByTagName(tagName)</code> - 태그명으로 요소 노드 선택 후 반환.<br>  역시 collection 반환이고 실시간 노드 반영이다.</li>
</ul>
<h2>DOM 탐색</h2>
<ul>
<li>DOM 을 탐색한다.</li>
<li><code>parentNode</code> - 부모 노드를 찾아서 반환한다.</li>
<li><code>firstElementChild</code>, <code>lastElementChild</code> - 자식을 찾아서 반환한다.</li>
<li>`hasChildNodes() - 자식 노드가 있으면 true 반환</li>
<li><code>childNodes</code> - 자식 노드 컬렉션 반환.<br>  NodeList 타입을 반환하는데, 즉시 반영이 아닌 것임.</li>
<li><code>children</code> - 자식 노드 컬렉션 반환.<br>  즉시 변환. 컬렉션 타입 반환.</li>
<li><code>previousSibling</code>, <code>nextSibling</code> - 형제 노드 탐색하여 반환. 텍스트 노드 포함 모든 형제 노드.</li>
<li><code>previousElementSibling</code>, <code>nextElementSibling</code> - element type 요소만 탐색한다. 단, 요소 노드만 탬색한다.</li>
</ul>
<h2>DOM 조작</h2>
<ul>
<li>텍스트 노드 조작 시<br>  텍스트 노드는 요소 노드의 자식.<pre><code> firstChild 프로퍼티를 사용하여 텍스트 노드 탐색.</code></pre>  유일한 값인 nodeValue 에 접근하여 수정한다.</li>
<li>어트리뷰트 노드 접근/수정<br>  className 은 class 값을 접근하거나 변경한다.<br>  없으면 생성하고 설정한다.<br>  classList 는 add, remove, item, toggle, contains, replace 등의 메서드 제공.<br>  id 어트리뷰트는 className 과 유사.</li>
<li>HTML 컨텐츠 조작<br>  textContent 메서드를 이용해 마크업 컨텐츠를 추가할 수 있다.<br>  컨텐츠 조작은 XSS 공격에 취약하다고 한다.</li>
<li>DOM 조작<br>  innerHTML 프로퍼티 말고 새로운 컨텐츠 조작하는 방법.<br>  createElement, createTextNode<br>  안전하다.</li>
</ul>
<h2>비동기식 처리 모델</h2>
<ul>
<li>동기식 처리는 요청을 보내고 응답을 받을 때까지 대기, 블락이 된다.</li>
<li>비동기식 처리는 병렬적으로 태스크를 수행한다. 태스크 종료 안되어도 대기 안하고 다음 태스크 진행.</li>
<li>js 대부분 DOM 이벤트 핸들러와 Timer, Ajax 는 비동기식 처리 모델이다.</li>
</ul>
